@page
@model IndexModel

<div class="text-center">
    <h1 class="display-4">Book An Engineer</h1>
    <div class="main-container">
        <form id="engineerForm">
            <!--Address Form-->
            <div id="addressForm">
                <div class="form-group">
                    <label>Adress Line 1:</label>
                    <input name="AddressLineOne" type="text" class="form-control" id="address-line-1" placeholder="Enter address line 1" required>
                </div>
                <div class="form-group">
                    <label>Adress Line 2:</label>
                    <input name="AddressLineTwo" type="text" class="form-control" id="address-line-2" placeholder="Enter address line 2">
                </div>
                <div class="form-group">
                    <label>City / Town:</label>
                    <input name="City" type="text" class="form-control" id="formCity" placeholder="Enter city / town" required>
                </div>
                <div class="form-group">
                    <label>County:</label>
                    <input name="County" type="text" class="form-control" id="formCounty" placeholder="Enter county">
                </div>
                <div class="form-group">
                    <label>Post Code:</label>
                    <input name="PostCode" type="text" class="form-control" id="formPostCode" placeholder="Enter post code" required>
                </div>
            </div>
            <!--Primary Form-->
            <div id="primaryForm">
                <div class="form-group">
                    <label>First Name</label>
                    <input name="FirstName" type="text" class="form-control" id="formFirstName" placeholder="Enter first name" required>
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input name="LastName" type="text" class="form-control" id="formLastName" placeholder="Enter last name" required>
                </div>
                <div class="form-group">
                    <label>Email address</label>
                    <input name="Email" type="email" class="form-control" id="formEmailAddress" placeholder="name@example.com" required>
                </div>
                <div class="form-group">
                    <label>Contact Number</label>
                    <span id="contactNumberPopover" data-bs-toggle="popover" data-bs-placement="left" data-bs-content="Ensure this is a valid phone number.">
                        <input name="ContactNumber" type="tel" class="form-control" id="formContactNumber" placeholder="Enter contact number" onkeyup="removeInvalid('formContactNumber')" required>
                    </span>
                </div>
                <div class="form-group">
                    <label>Vehicle Registration (no space)</label>
                    <input name="Registration" type="text" class="form-control" id="formRegistration" placeholder="Enter vehicle registration" maxlength="7" onkeypress="return event.charCode != 32" required>
                </div>
                <div class="form-group">
                    <label>Job Category</label>
                    <span id="jobCatPopover" data-bs-toggle="popover" data-bs-placement="left" data-bs-content="Please select a catergory.">
                        <select name="JobCategory" class="form-select" id="formJobCategory" onchange="removeInvalid('formJobCategory')" required>
                            <option value="nonSelected" selected>Select a category</option>
                            <option value="warranty">Warranty</option>
                            <option value="breakdown">Breakdown</option>
                            <option value="vehicleOfRoad">Vehicle of Road</option>
                        </select>
                    </span>
                </div>
                <div class="form-group">
                    <label class="control-label">Date</label>
                    <input class="form-control" id="formDate" type="date" name="Date" placeholder="MM/DD/YYY" onchange="clearTimeSlot()" required/>
                </div>
                <div class="form-group">
                    <label class="control-label d-block">Select a time slot</label>
                    <input name="TimeSlot" class="form-control d-inline-block" style="width: 79%" id="formTimeSlot" type="text" placeholder="Select time slot" onKeyDown="return false" autocomplete="off" required />
                    <button type="button" class="btn btn-secondary" id="selectTimeButton" data-bs-toggle="modal" data-bs-target="#timeModal" onclick="configureTimeSlot()">Select Time</button>
                </div>
                <div class="form-group">
                    <label for="exampleFormControlTextarea1">Comment (max 255 characters)</label>
                    <textarea name="Comment" class="form-control" id="formAddtionalComments" rows="3" maxlength="255"></textarea>
                </div>
            </div>
            <div class="buttonHolder">
                <button id="submitButton" type="submit" onclick="validateFormInputs(event)" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
    <!--MODALS-->
    <div class="modal fade" id="timeModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Select a time</h5>
                    <button type="button" data-bs-dismiss="modal" aria-label="Close">
                        <span>&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="formTimeSlotDiv">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="setTimeSlot()" onchange="removeInvalid('formTimeSlot')">Confirm time</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="successModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Booking Confirmed</h5>
                </div>
                <div class="modal-body">
                    <p>Your booking has successfully submitted and confirmed.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Ok</button>
                </div>
            </div>
        </div>
    </div>
</div>


